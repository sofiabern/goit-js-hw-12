{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nasync function getDataFromAPI(search) {\n  const API_KEY = '39362116-97c7d5619fee8bb7db7b12f12';\n  const imageType = 'photo';\n  const photoOrientation = 'horizontal';\n  const safeSearch = true;\n\n  const params = {\n    key: API_KEY,\n    q: search,\n    image_type: imageType,\n    orientation: photoOrientation,\n    safesearch: safeSearch,\n  };\n\ntry{\n  const response = await axios.get('https://pixabay.com/api/', { params });\n  return response.data\n} \ncatch(error) {\nconsole.log(error.message)\n\n}\n \n}\n\nexport { getDataFromAPI };\n","function createMarkup(array){\n    return array.map(({webformatURL, largeImageURL, tags, likes, views, comments, downloads}) => `\n    <li class=\"gallery-item\">\n    <a class=\"gallery-link\" href=\"${largeImageURL}\">\n      <img class=\"gallery-image\"  src=\"${webformatURL}\" alt=\"${tags}\">\n      <ul class=\"descr-list\">\n        <li class=\"descr-item\"><span class=\"descr-header\">Likes</span> <span class=\"descr-value\">${likes}</span></li>\n        <li class=\"descr-item\"><span class=\"descr-header\">Views</span> <span class=\"descr-value\">${views}</span></li>\n        <li class=\"descr-item\"><span class=\"descr-header\">Comments</span> <span class=\"descr-value\">${comments}</span></li>\n        <li class=\"descr-item\"><span class=\"descr-header\">Downloads</span> <span class=\"descr-value\">${downloads}</span></li>\n      </ul>\n      </a>\n    </li>`).join(\" \")\n    }\n    \n    export {createMarkup}","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { getDataFromAPI } from './js/pixabay-api';\nimport { createMarkup } from './js/render-functions';\n\n\n// DOM elements\nconst formEl = document.querySelector('.search-form');\nconst inputEl = formEl.elements.search;\nconst gallery = document.querySelector('.gallery');\nconst loaderEl = document.querySelector('.loader');\n\nconst simplelightbox = new SimpleLightbox('.gallery-item a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n    showCounter: false,\n  });\n\nfunction loaderToggle() {\n  loaderEl.classList.toggle('hidden');\n}\n\nfunction cleanGallery() {\n  if (gallery.innerHTML) gallery.innerHTML = '';\n}\n\nfunction showError(message) {\n  iziToast.error({\n    title: 'Error',\n    message: `${message}`,\n  });\n}\n\nasync function getPhotoFromAPI(query) {\n    const data = await getDataFromAPI(query);\n    if (!data.hits.length) {\n      showError(\n        'Sorry, there are no images matching your search query. Please try again!'\n      );\n      return;\n    }\n    gallery.innerHTML = createMarkup(data.hits);\n  }\n  \n\nformEl.addEventListener('submit', searchHandler);\nfunction searchHandler(evt) {\n  evt.preventDefault();\n\n  cleanGallery();\n\n  loaderToggle();\n\n  if (!inputEl.value.trim()) {\n    loaderToggle();\n    showError('Please enter something!');\n    return;\n  }\n  try {\n    getPhotoFromAPI(inputEl.value);\n    if (simplelightbox) simplelightbox.refresh();\n   \n  } \n  catch (error) {\n    showError('Sorry, something wrong happened while fetching.');\n\n    console.log(error);\n  }\n   \nloaderToggle()\n  \n}\n\n"],"names":["getDataFromAPI","search","params","axios","error","createMarkup","array","webformatURL","largeImageURL","tags","likes","views","comments","downloads","formEl","inputEl","gallery","loaderEl","simplelightbox","SimpleLightbox","loaderToggle","cleanGallery","showError","message","iziToast","getPhotoFromAPI","query","data","searchHandler","evt"],"mappings":"owBAEA,eAAeA,EAAeC,EAAQ,CAMpC,MAAMC,EAAS,CACb,IANc,qCAOd,EAAGD,EACH,WAPgB,QAQhB,YAPuB,aAQvB,WAAY,EAChB,EAEA,GAAG,CAED,OADiB,MAAME,EAAM,IAAI,2BAA4B,CAAE,OAAAD,CAAM,CAAE,GACvD,IAClB,OACME,EAAO,CACb,QAAQ,IAAIA,EAAM,OAAO,CAEzB,CAEA,CCzBA,SAASC,EAAaC,EAAM,CACxB,OAAOA,EAAM,IAAI,CAAC,CAAC,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAM;AAAA;AAAA,oCAE7DL,CAAa;AAAA,yCACRD,CAAY,UAAUE,CAAI;AAAA;AAAA,mGAEgCC,CAAK;AAAA,mGACLC,CAAK;AAAA,sGACFC,CAAQ;AAAA,uGACPC,CAAS;AAAA;AAAA;AAAA,UAGtG,EAAE,KAAK,GAAG,CACpB,CCFA,MAAMC,EAAS,SAAS,cAAc,cAAc,EAC9CC,EAAUD,EAAO,SAAS,OAC1BE,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAW,SAAS,cAAc,SAAS,EAE3CC,EAAiB,IAAIC,EAAe,kBAAmB,CACzD,aAAc,MACd,aAAc,IACd,YAAa,EACjB,CAAG,EAEH,SAASC,GAAe,CACtBH,EAAS,UAAU,OAAO,QAAQ,CACpC,CAEA,SAASI,GAAe,CAClBL,EAAQ,YAAWA,EAAQ,UAAY,GAC7C,CAEA,SAASM,EAAUC,EAAS,CAC1BC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,GAAGD,CAAO,EACvB,CAAG,CACH,CAEA,eAAeE,EAAgBC,EAAO,CAClC,MAAMC,EAAO,MAAM3B,EAAe0B,CAAK,EACvC,GAAI,CAACC,EAAK,KAAK,OAAQ,CACrBL,EACE,0EACR,EACM,MACD,CACDN,EAAQ,UAAYX,EAAasB,EAAK,IAAI,CAC3C,CAGHb,EAAO,iBAAiB,SAAUc,CAAa,EAC/C,SAASA,EAAcC,EAAK,CAO1B,GANAA,EAAI,eAAc,EAElBR,IAEAD,IAEI,CAACL,EAAQ,MAAM,OAAQ,CACzBK,IACAE,EAAU,yBAAyB,EACnC,MACD,CACD,GAAI,CACFG,EAAgBV,EAAQ,KAAK,EACzBG,GAAgBA,EAAe,SAEpC,OACMd,EAAO,CACZkB,EAAU,iDAAiD,EAE3D,QAAQ,IAAIlB,CAAK,CAClB,CAEHgB,EAAc,CAEd"}